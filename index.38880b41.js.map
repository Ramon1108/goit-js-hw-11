{"mappings":"AAAA,MAAMA,EAAOC,SAASC,eAAe,eAC/BC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cAE3CJ,EAAKM,iBAAiB,UAOtB,SAAsBC,GAGpB,GAFAA,EAAMC,iBACNC,EAAcT,EAAKU,YAAYC,MAAMC,OACjB,KAAhBH,EAAoB,OAOxBN,EAAQU,UAAY,GACpBC,EAAO,EACPT,EAAYU,MAAMC,QAAU,OAN5BC,G,IAZFZ,EAAYC,iBAAiB,SAiF7B,WACEQ,IACAG,G,IAjFF,IAAIR,EAAc,GACdK,EAAO,EAkBXI,eAAeD,IACb,MACME,EAAS,qEAA4CC,mBACzDX,mEACgEK,gBAElE,IACE,MAAMO,QAAiBC,MAAMH,GACvBI,QAAaF,EAASG,OAEH,IAArBD,EAAKE,KAAKC,OAmChBC,SAASC,OAAOC,QACd,8EArBJ,SAAuBC,GACrB,MAAMC,EAAYD,EAAOE,KAAIC,GAI/B,SAAyBA,GACvB,MAAO,mDAESA,EAAMC,sBAAsBD,EAAME,iGAEPF,EAAMG,yDACNH,EAAMI,4DACHJ,EAAMK,gEACLL,EAAMM,6C,CAZfC,CAAgBP,KAAQQ,KAAK,IACnEtC,EAAQU,WAAakB,C,CAdjBW,CAAcnB,EAAKE,MACfF,EAAKoB,WA/BC,GA+BY7B,EAqC1Ba,SAASC,OAAOgB,KACd,8DAKFvC,EAAYU,MAAMC,QAAU,Q,CArC1B,MAAO6B,GACPC,QAAQC,IAAI,SAAUF,E","sources":["src/index.js"],"sourcesContent":["const form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nform.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', loadMoreImages);\n\nlet searchQuery = '';\nlet page = 1;\nconst perPage = 40;\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  searchQuery = form.searchQuery.value.trim();\n  if (searchQuery === '') return;\n\n  clearGallery();\n  performSearch();\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n  page = 1;\n  loadMoreBtn.style.display = 'none';\n}\n\nasync function performSearch() {\n  const APIKEY = '37351481-6ed7b9f731a9010946918b10b';\n  const apiUrl = `https://pixabay.com/api/?key=${APIKEY}&q=${encodeURIComponent(\n    searchQuery\n  )}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  try {\n    const response = await fetch(apiUrl);\n    const data = await response.json();\n\n    if (data.hits.length === 0) {\n      showNoResultsMessage();\n    } else {\n      displayImages(data.hits);\n      if (data.totalHits <= page * perPage) {\n        showEndOfResultsMessage();\n      } else {\n        showLoadMoreButton();\n      }\n    }\n  } catch (error) {\n    console.log('Error:', error);\n  }\n}\n\nfunction displayImages(images) {\n  const cardsHTML = images.map(image => createImageCard(image)).join('');\n  gallery.innerHTML += cardsHTML;\n}\n\nfunction createImageCard(image) {\n  return `\n    <div class=\"photo-card\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${image.views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    </div>\n  `;\n}\n\nfunction showNoResultsMessage() {\n  notiflix.Notify.failure(\n    'Sorry, there are no images matching your search query. Please try again.'\n  );\n}\n\nfunction showEndOfResultsMessage() {\n  notiflix.Notify.info(\n    \"We're sorry, but you've reached the end of search results.\"\n  );\n}\n\nfunction showLoadMoreButton() {\n  loadMoreBtn.style.display = 'block';\n}\n\nfunction loadMoreImages() {\n  page++;\n  performSearch();\n}\n"],"names":["$1f0dc3b9307be026$var$form","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","addEventListener","event","preventDefault","$1f0dc3b9307be026$var$searchQuery","searchQuery","value","trim","innerHTML","$1f0dc3b9307be026$var$page","style","display","$1f0dc3b9307be026$var$performSearch","async","apiUrl","encodeURIComponent","response","fetch","data","json","hits","length","notiflix","Notify","failure","images","cardsHTML","map","image","webformatURL","tags","likes","views","comments","downloads","$1f0dc3b9307be026$var$createImageCard","join","$1f0dc3b9307be026$var$displayImages","totalHits","info","error","console","log"],"version":3,"file":"index.38880b41.js.map"}